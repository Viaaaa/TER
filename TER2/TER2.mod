/*********************************************
 * OPL 12.5 Model
 * Author: viann
 * Creation Date: 21 mars 2018 at 13:40:55
 *********************************************/

 /*********************************************
 * OYL 12.5 Model
 * AXthor: viann
 * Creation Date: 10 mars 2018 at 15:24:09
 *********************************************/

/*
	  Environnement 1:
	    Agents:
	      A, B, C
	    Règles:
	      A+, B- ==> B+
	      C- ==> A+
	      
	  Environnement 2:
	    Agents:
	      D, E
	    Règles:
	      D- ==> E+
	      E+, E- ==> E+
*/
	    



dvar boolean X[0..3][0..5];
dvar boolean Y[0..1][0..1];
dvar boolean S1[0..2];
dvar boolean S2[0..1];
dvar boolean S3[0..4];
dvar boolean S4[0..2];
dvar int S;
maximize S;

subject to{
  //Lignes agents
  X[0][0] + X[0][1] + X[0][2] + X[0][3] + X[0][4] + X[0][5] <= 1;
  X[1][0] + X[1][1] + X[1][2] + X[1][3] + X[1][4] + X[0][5] <= 1;
  X[2][0] + X[2][1] + X[2][2] + X[2][3] + X[2][4] + X[2][5] <= 1;
  X[3][0] + X[3][1] + X[3][2] + X[3][3] + X[3][4] + X[3][5] <= 1; 
  
  //Colonnes agents
  X[0][0] + X[1][0] + X[2][0] + X[3][0] <= 1;
  X[0][1] + X[1][1] + X[2][1] + X[3][1] <= 1;
  X[0][2] + X[1][2] + X[2][2] + X[3][2] <= 1;
  X[0][3] + X[1][3] + X[2][3] + X[3][3] <= 1;
  X[0][4] + X[1][4] + X[2][4] + X[3][4] <= 1;
  X[0][5] + X[1][5] + X[2][5] + X[3][5] <= 1;
  
  //Egalitée des croix agents
  X[0][0] == X[1][1];
  X[0][1] == X[1][0];
  X[0][2] == X[1][3];
  X[0][3] == X[1][2];
  X[0][4] == X[1][5];
  X[0][5] == X[1][4];
  
  X[2][0] == X[3][1];
  X[2][1] == X[3][0];
  X[2][2] == X[3][3];
  X[2][3] == X[3][2];
  X[2][4] == X[3][5];
  X[2][5] == X[3][4];
  
  
  //Lignes règles	
  Y[0][0] + Y[0][1] <= 1;
  Y[1][0] + Y[1][1] <= 1;
  
  //Colonnes règles
  Y[0][0] + Y[1][0] <= 1;
  Y[0][1] + Y[1][1] <= 1;
  
  
  
  //Fonction d'évaluation
  S1[0] <= Y[0][0];	S1[0] <= X[1][0];	S1[0] >= Y[0][0] + X[1][0] - 1;
  S1[1] <= Y[0][0];	S1[1] <= X[1][3];	S1[1] >= Y[0][0] + X[1][3] - 1;
  S1[2] <= Y[0][0];	S1[2] <= X[2][2];	S1[2] >= Y[0][0] + X[2][2] - 1;
  
  S2[0] <= Y[0][1];	S2[0] <= X[1][5];	S2[0] >= Y[0][1] + X[1][5] - 1;
  S2[1] <= Y[0][1];	S2[1] <= X[2][0];	S2[1] >= Y[0][1] + X[2][0] - 1;
  
  S3[0] <= Y[1][0];	S3[0] <= X[2][0];	S3[0] >= Y[1][0] + X[2][0] - 1;
  S3[1] <= Y[1][0];	S3[1] <= X[3][0];	S3[1] >= Y[1][0] + X[3][0] - 1;
  S3[2] <= Y[1][0];	S3[2] <= X[2][3];	S3[2] >= Y[1][0] + X[2][3] - 1;
  S3[3] <= Y[1][0];	S3[3] <= X[3][3];	S3[3] >= Y[1][0] + X[3][3] - 1;
  S3[4] <= Y[1][0];	S3[4] <= X[2][2];	S3[4] >= Y[1][0] + X[2][2] - 1;
  
  S4[0] <= Y[1][1];	S4[0] <= X[2][5];	S4[0] >= Y[1][1] + X[2][5] - 1;
  S4[1] <= Y[1][1];	S4[1] <= X[3][5];	S4[1] >= Y[1][1] + X[3][5] - 1;
  S4[2] <= Y[1][1];	S4[2] <= X[2][0];	S4[2] >= Y[1][1] + X[2][0] - 1;
  
  
  
  
  S == 2*S1[0] + 2*S1[1] + 2*S1[2] - 3*Y[0][0]
  	 + 2*S2[0] + 2*S2[1] - 2*Y[0][1]
  	 + 2*S3[0] + 2*S3[1] + 2*S3[2] + 2*S3[3] + 2*S3[4] - 3*Y[1][0]
  	 + 2*S4[0] + 2*S4[1] + 2*S4[2]- 3*Y[1][1];
  
  

}
 